<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Responde R√°pido!</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body onload="comenzarCuentaRegresiva()">

    <div class="contenedor">
        <h2>
            Responde a las preguntas lo m√°s r√°pido que puedas!
            <span id="cuentaRegresiva">30</span>
        </h2>

        <p>1. ¬øCu√°l es la capital de Francia?</p>
        <input type="text" id="respuesta1">

        <p>2. (7 √ó 5) + 15</p>
        <input type="text" id="respuesta2">

        <p>3. S√≠mbolo qu√≠mico del agua?</p>
        <input type="text" id="respuesta3">

        <p>4. A√±o del descubrimiento de Am√©rica?</p>
        <input type="text" id="respuesta4">

        <p>5. En qu√© a√±o se cre√≥ el f√∫tbol?</p>
        <input type="text" id="respuesta5">

        <br><br>

        <button onclick="finalizado()">Termin√©</button>
        <br><br>
        <button onclick="volverIntentar()">Volver a intentar</button>

        <div id="resultado"></div>
    </div>

    <audio id="audioFinal">
        <source src="gameover.mp3" type="audio/mpeg">
    </audio>

<script>
let tiempo = 30;
let intervalo;
let tiempoLimite;

function comenzarCuentaRegresiva() {
    intervalo = setInterval(ticTac, 1000);
    tiempoLimite = setTimeout(tiempoCumplido, 30000);
}

function ticTac() {
    if (tiempo > 0) {
        tiempo--;
        document.getElementById("cuentaRegresiva").textContent = tiempo;
    }

    if (tiempo <= 10) {
        document.getElementById("cuentaRegresiva").style.color = "darkred";
    }

    if (tiempo === 0) {
        clearInterval(intervalo);
    }
}


function tiempoCumplido() {
    clearInterval(intervalo);
    document.getElementById("cuentaRegresiva").textContent = 0
    document.getElementById("audioFinal").play();

    bloquearInputs();
    alert("‚è∞ GAME OVER\nSe acab√≥ el tiempo");
}

function finalizado() {
    clearTimeout(tiempoLimite);
    clearInterval(intervalo);

    let puntaje = 0;
    let resultado = "";

    const r1 = document.getElementById("respuesta1").value.toLowerCase();
    const r2 = document.getElementById("respuesta2").value;
    const r3 = document.getElementById("respuesta3").value.toLowerCase();
    const r4 = document.getElementById("respuesta4").value;
    const r5 = document.getElementById("respuesta5").value;

    if (r1 === "par√≠s" || r1 === "paris") {
        puntaje++; resultado += "1 ‚úÖ\n";
    } else resultado += "1 ‚ùå (Par√≠s)\n";

    if (r2 === "50") {
        puntaje++; resultado += "2 ‚úÖ\n";
    } else resultado += "2 ‚ùå (50)\n";

    if (r3 === "h2o" || r3 === "H2O") {
        puntaje++; resultado += "3 ‚úÖ\n";
    } else resultado += "3 ‚ùå (H2O)\n";

    if (r4 === "1492") {
        puntaje++; resultado += "4 ‚úÖ\n";
    } else resultado += "4 ‚ùå (1492)\n";

    if (r5 === "1863") {
        puntaje++; resultado += "5 ‚úÖ\n";
    } else resultado += "5 ‚ùå (1863)\n";

    alert(
        "üìä RESULTADOS\n\n" +
        resultado +
        "\nüéØ Puntaje final: " + puntaje + " / 5"
    );

    document.querySelectorAll("input").forEach(input => {
        input.disabled = true;
    });

    document.querySelector("button").disabled = true;

}

function volverIntentar() {
    location.reload();
}

document.getElementById("resultado").textContent = `Puntaje final: ${puntaje} / 5`;

function bloquearInputs() {
    document.querySelectorAll("input").forEach(input => {
        input.disabled = true;
    });
}



</script>
</body>
</html>
